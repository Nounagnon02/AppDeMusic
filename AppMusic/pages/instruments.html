<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaestroSpirit - Instruments</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
    <div class="header-section p-6 text-center">
        <h1 class="text-2xl font-display mb-2">ğŸ¸ Instruments</h1>
        <p class="text-sm opacity-90">MaÃ®trisez vos instruments prÃ©fÃ©rÃ©s</p>
    </div>

    <div class="px-4 py-6">
        <!-- Piano -->
        <div class="progress-card p-4 mb-4">
            <h3 class="font-semibold mb-3">ğŸ¹ Piano - Exercices</h3>
            <div class="text-sm mb-3">
                <p><strong>Position des mains:</strong> Doigts courbÃ©s, poignets souples</p>
                <p><strong>DoigtÃ© gamme Do Majeur:</strong></p>
                <p>Main droite: 1-2-3-1-2-3-4-5 (Do-RÃ©-Mi-Fa-Sol-La-Si-Do)</p>
                <p>Main gauche: 5-4-3-2-1-3-2-1 (Do-RÃ©-Mi-Fa-Sol-La-Si-Do)</p>
            </div>
            <div class="grid grid-cols-2 gap-2">
                <button class="quick-action-btn text-sm" onclick="practiceScale('piano')">
                    Gammes
                </button>
                <button class="quick-action-btn text-sm" onclick="practiceArpeggios('piano')">
                    ArpÃ¨ges
                </button>
            </div>
        </div>

        <!-- Guitare -->
        <div class="progress-card p-4 mb-4">
            <h3 class="font-semibold mb-3">ğŸ¸ Guitare - Accords de Base</h3>
            <div class="text-sm mb-3">
                <p><strong>Accords ouverts essentiels:</strong></p>
                <div class="grid grid-cols-2 gap-2 text-xs">
                    <div><strong>Do (C):</strong> x32010</div>
                    <div><strong>RÃ©m (Dm):</strong> xx0231</div>
                    <div><strong>Mi (E):</strong> 022100</div>
                    <div><strong>Fa (F):</strong> 133211</div>
                    <div><strong>Sol (G):</strong> 320003</div>
                    <div><strong>Lam (Am):</strong> x02210</div>
                </div>
            </div>
            <div class="grid grid-cols-2 gap-2">
                <button class="quick-action-btn text-sm" onclick="practiceChords()">
                    Accords
                </button>
                <button class="quick-action-btn text-sm" onclick="practiceStrumming()">
                    Rythmiques
                </button>
            </div>
        </div>

        <!-- Batterie -->
        <div class="progress-card p-4 mb-4">
            <h3 class="font-semibold mb-3">ğŸ¥ Batterie - Rudiments</h3>
            <div class="text-sm mb-3">
                <p><strong>Rudiments de base:</strong></p>
                <ul class="pl-4">
                    <li>â€¢ <strong>Single Stroke Roll:</strong> D G D G D G D G</li>
                    <li>â€¢ <strong>Double Stroke Roll:</strong> DD GG DD GG</li>
                    <li>â€¢ <strong>Paradiddle:</strong> D G DD (R L RR)</li>
                    <li>â€¢ <strong>Flam:</strong> gD Gg (grace note + accent)</li>
                </ul>
                <p class="mt-2"><em>D = Main droite, G = Main gauche</em></p>
            </div>
            <button class="quick-action-btn w-full" onclick="practiceRudiments()">
                Pratiquer les rudiments
            </button>
        </div>

        <!-- MÃ©tronome intÃ©grÃ© -->
        <div class="progress-card p-4 mb-4">
            <h3 class="font-semibold mb-3">â±ï¸ MÃ©tronome</h3>
            <div class="flex items-center gap-3 mb-3">
                <span class="text-sm">60</span>
                <input type="range" id="bpm-slider" min="60" max="200" value="120" class="flex-1">
                <span class="text-sm">200</span>
            </div>
            <div class="text-center mb-3">
                <span id="bpm-display" class="text-xl font-bold">120 BPM</span>
            </div>
            <div class="grid grid-cols-2 gap-2">
                <button id="metronome-start" class="quick-action-btn text-sm">
                    DÃ©marrer
                </button>
                <button id="metronome-stop" class="quick-action-btn text-sm">
                    ArrÃªter
                </button>
            </div>
        </div>

        <!-- Exercices de technique -->
        <div class="progress-card p-4 mb-4">
            <h3 class="font-semibold mb-3">ğŸ¯ Exercices Techniques</h3>
            <div class="grid grid-cols-2 gap-2">
                <button class="quick-action-btn text-sm" onclick="startTechniqueExercise('scales')">
                    ğŸ¼ Gammes
                </button>
                <button class="quick-action-btn text-sm" onclick="startTechniqueExercise('arpeggios')">
                    ğŸŒŠ ArpÃ¨ges
                </button>
                <button class="quick-action-btn text-sm" onclick="startTechniqueExercise('chromatic')">
                    ğŸ¨ Chromatique
                </button>
                <button class="quick-action-btn text-sm" onclick="startTechniqueExercise('intervals')">
                    ğŸ“ Intervalles
                </button>
            </div>
        </div>

        <!-- Styles musicaux -->
        <div class="progress-card p-4 mb-4">
            <h3 class="font-semibold mb-3">ğŸ­ Styles Musicaux</h3>
            <div class="grid grid-cols-2 gap-2">
                <button class="quick-action-btn text-sm" onclick="startStylePractice('classical')">
                    ğŸ¼ Classique
                </button>
                <button class="quick-action-btn text-sm" onclick="startStylePractice('jazz')">
                    ğŸ· Jazz
                </button>
                <button class="quick-action-btn text-sm" onclick="startStylePractice('rock')">
                    ğŸ¤˜ Rock
                </button>
                <button class="quick-action-btn text-sm" onclick="startStylePractice('blues')">
                    ğŸ¸ Blues
                </button>
            </div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="flex justify-around py-2">
            <a href="../index.html" class="nav-item">
                <span>ğŸ </span>
                <span class="text-xs">Accueil</span>
            </a>
            <a href="voice.html" class="nav-item">
                <span>ğŸ¤</span>
                <span class="text-xs">Voix</span>
            </a>
            <a href="instruments.html" class="nav-item active">
                <span>ğŸ¸</span>
                <span class="text-xs">Instruments</span>
            </a>
            <a href="theory.html" class="nav-item">
                <span>ğŸ“š</span>
                <span class="text-xs">ThÃ©orie</span>
            </a>
            <a href="tools.html" class="nav-item">
                <span>ğŸ› ï¸</span>
                <span class="text-xs">Outils</span>
            </a>
            <a href="profile.html" class="nav-item">
                <span>ğŸ‘¤</span>
                <span class="text-xs">Profil</span>
            </a>
        </div>
    </nav>

    <script src="../assets/js/app.js"></script>
    <script>
        function cleanupModals() {
            document.querySelectorAll('[style*="position: fixed"]').forEach(el => el.remove());
            document.querySelectorAll('[style*="position:fixed"]').forEach(el => el.remove());
            document.body.style.overflow = '';
            document.body.style.filter = '';
            document.body.style.opacity = '';
            document.body.style.background = '';
        }
        document.addEventListener('DOMContentLoaded', cleanupModals);
        let metronomeInterval = null;
        let isMetronomeRunning = false;
        
        function practiceScale(instrument) {
            const scales = {
                piano: "Gamme Do majeur:\nMain droite: Do(1) RÃ©(2) Mi(3) Fa(1) Sol(2) La(3) Si(4) Do(5)\nMain gauche: Do(5) RÃ©(4) Mi(3) Fa(2) Sol(1) La(3) Si(2) Do(1)\n\nJouez lentement, doigts courbÃ©s, 60 BPM puis augmentez."
            };
            alert(scales[instrument]);
            app.updateProgress('instruments', 15);
        }
        
        function practiceArpeggios(instrument) {
            const arpeggios = {
                piano: "ArpÃ¨ge Do majeur:\nMain droite: Do(1) Mi(3) Sol(5) Do(1) Sol(5) Mi(3) Do(1)\nMain gauche: Do(5) Mi(3) Sol(1) Do(5) Sol(1) Mi(3) Do(5)\n\nLegato, poignet souple, Ã©couter l'harmonie."
            };
            alert(arpeggios[instrument]);
            app.updateProgress('instruments', 15);
        }
        
        function practiceChords() {
            const chordTips = `Accords guitare - Conseils:\n\nâ€¢ Do (C): BarrÃ© index case 1, majeur case 2 corde RÃ©, annulaire case 3 corde La\nâ€¢ Sol (G): Majeur case 3 corde Mi grave, annulaire case 3 corde Si, auriculaire case 3 corde Mi aigu\nâ€¢ Lam (Am): Index case 2 corde Si, majeur case 2 corde Sol, annulaire case 2 corde RÃ©\n\nChangements d'accords: Do-Lam-Fa-Sol (progression classique)`;
            alert(chordTips);
            app.updateProgress('instruments', 15);
        }
        
        function practiceStrumming() {
            const strummingPatterns = `Rythmiques guitare:\n\nâ€¢ Basique: Bas-Bas-Haut-Haut-Bas-Haut\nâ€¢ Folk: Bas-Haut-Bas-Haut-Bas-Haut-Bas-Haut\nâ€¢ Rock: Bas-X-Haut-X-Bas-X-Haut-X (X = Ã©touffÃ©)\n\nCommencez Ã  60 BPM, poignet souple, mÃ©diator lÃ©ger.`;
            alert(strummingPatterns);
            app.updateProgress('instruments', 15);
        }
        
        function practiceRudiments() {
            const rudiments = `Rudiments batterie - Technique:\n\n1. Single Stroke Roll (DGDG):\n   - Alternance stricte droite-gauche\n   - MÃªme volume, mÃªme attaque\n   - Commencer Ã  60 BPM\n\n2. Double Stroke Roll (DDGG):\n   - 2 coups par main\n   - Rebond naturel du stick\n   - ContrÃ´ler la deuxiÃ¨me frappe\n\n3. Paradiddle (DGDD):\n   - Accent sur le premier coup\n   - FlÃ©chir le poignet\n   - Garder les doubles lÃ©gers`;
            alert(rudiments);
            app.updateProgress('instruments', 20);
        }
        
        function startTechniqueExercise(type) {
            cleanupModals();
            const exercises = {
                scales: {
                    title: "Gammes Techniques",
                    steps: [
                        "Do majeur: Do-RÃ©-Mi-Fa-Sol-La-Si-Do",
                        "Sol majeur: Sol-La-Si-Do-RÃ©-Mi-Fa#-Sol",
                        "RÃ© majeur: RÃ©-Mi-Fa#-Sol-La-Si-Do#-RÃ©",
                        "Commencez lentement (60 BPM)",
                        "Augmentez progressivement le tempo"
                    ]
                },
                arpeggios: {
                    title: "ArpÃ¨ges MÃ©lodiques",
                    steps: [
                        "Do majeur: Do-Mi-Sol-Do (octave)",
                        "Lam mineur: La-Do-Mi-La",
                        "Fa majeur: Fa-La-Do-Fa",
                        "Legato et fluiditÃ©",
                        "Travaillez les renversements"
                    ]
                },
                chromatic: {
                    title: "Gamme Chromatique",
                    steps: [
                        "Tous les demi-tons: Do-Do#-RÃ©-RÃ©#...",
                        "DoigtÃ©s rÃ©guliers",
                        "MÃªme vÃ©locitÃ© sur chaque note",
                        "MontÃ©e et descente",
                        "Excellent pour la technique"
                    ]
                },
                intervals: {
                    title: "Exercices d'Intervalles",
                    steps: [
                        "Secondes: Do-RÃ©, RÃ©-Mi, Mi-Fa...",
                        "Tierces: Do-Mi, RÃ©-Fa, Mi-Sol...",
                        "Quartes: Do-Fa, RÃ©-Sol, Mi-La...",
                        "Quintes: Do-Sol, RÃ©-La, Mi-Si...",
                        "DÃ©veloppe l'oreille et la technique"
                    ]
                }
            };
            
            showInstrumentModal(exercises[type]);
        }
        
        function startStylePractice(style) {
            cleanupModals();
            const styles = {
                classical: {
                    title: "Style Classique",
                    steps: [
                        "Posture droite et dÃ©tendue",
                        "Articulation claire et prÃ©cise",
                        "PhrasÃ© musical et expressif",
                        "Respect des nuances (p, f, crescendo)",
                        "Ã‰tude d'Å“uvres de Bach, Mozart, Chopin"
                    ]
                },
                jazz: {
                    title: "Style Jazz",
                    steps: [
                        "Accords Ã©tendus (7Ã¨me, 9Ã¨me, 11Ã¨me)",
                        "Rythme swing et syncopes",
                        "Improvisation sur grilles d'accords",
                        "Walking bass et comping",
                        "Standards: Autumn Leaves, All of Me"
                    ]
                },
                rock: {
                    title: "Style Rock",
                    steps: [
                        "Power chords (quintes)",
                        "Riffs rÃ©pÃ©titifs et accrocheurs",
                        "Techniques: palm muting, bending",
                        "Rythmiques puissantes",
                        "Solos pentatoniques"
                    ]
                },
                blues: {
                    title: "Style Blues",
                    steps: [
                        "Gamme blues (pentatonique + blue notes)",
                        "Grille 12 mesures (I-IV-V)",
                        "Techniques: bend, slide, vibrato",
                        "PhrasÃ© expressif et Ã©motionnel",
                        "Call and response"
                    ]
                }
            };
            
            showInstrumentModal(styles[style]);
        }
        
        function showInstrumentModal(exercise) {
            cleanupModals();
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0;
                background: rgba(0,0,0,0.9); display: flex; align-items: center;
                justify-content: center; z-index: 1000; padding: 1rem;
            `;
            modal.onclick = (e) => { if(e.target === modal) cleanupModals(); };
            
            modal.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
                    padding: 2rem; border-radius: 20px; max-width: 400px; width: 100%;
                    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
                    border: 2px solid #D4AF37;
                ">
                    <h3 style="color: #D4AF37; text-align: center; margin-bottom: 1.5rem; font-size: 1.5rem;">${exercise.title}</h3>
                    
                    ${exercise.steps.map((step, index) => `
                        <div style="
                            display: flex; align-items: flex-start; margin-bottom: 1rem;
                            padding: 0.75rem; background: rgba(212, 175, 55, 0.1);
                            border-radius: 10px; border-left: 3px solid #D4AF37;
                        ">
                            <span style="
                                background: #D4AF37; color: white; border-radius: 50%;
                                width: 24px; height: 24px; display: flex; align-items: center;
                                justify-content: center; font-size: 0.8rem; font-weight: bold;
                                margin-right: 0.75rem; flex-shrink: 0;
                            ">${index + 1}</span>
                            <p style="margin: 0; font-size: 0.9rem;">${step}</p>
                        </div>
                    `).join('')}
                    
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button onclick="cleanupModals()" style="
                            flex: 1; background: #6c757d; color: white; border: none;
                            padding: 0.75rem; border-radius: 10px; font-weight: 600;
                        ">Fermer</button>
                        <button onclick="cleanupModals(); app.updateProgress('instruments', 15);" style="
                            flex: 1; background: #D4AF37; color: white; border: none;
                            padding: 0.75rem; border-radius: 10px; font-weight: 600;
                        ">Pratiquer</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        // MÃ©tronome fonctionnel
        document.addEventListener('DOMContentLoaded', () => {
            const bpmSlider = document.getElementById('bpm-slider');
            const bpmDisplay = document.getElementById('bpm-display');
            const startBtn = document.getElementById('metronome-start');
            const stopBtn = document.getElementById('metronome-stop');
            
            if (bpmSlider && bpmDisplay) {
                bpmSlider.addEventListener('input', (e) => {
                    bpmDisplay.textContent = e.target.value + ' BPM';
                });
            }
            
            if (startBtn) {
                startBtn.addEventListener('click', () => {
                    if (!isMetronomeRunning) {
                        const bpm = parseInt(bpmSlider.value);
                        const interval = 60000 / bpm;
                        
                        metronomeInterval = setInterval(() => {
                            // Son de clic simple
                            const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT');
                            audio.play().catch(() => {});
                        }, interval);
                        
                        isMetronomeRunning = true;
                        startBtn.textContent = 'En cours...';
                        startBtn.style.background = '#e74c3c';
                    }
                });
            }
            
            if (stopBtn) {
                stopBtn.addEventListener('click', () => {
                    clearInterval(metronomeInterval);
                    metronomeInterval = null;
                    isMetronomeRunning = false;
                    startBtn.textContent = 'DÃ©marrer';
                    startBtn.style.background = '';
                });
            }
        });
    </script>
</body>
</html>